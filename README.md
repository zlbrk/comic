# comic
comi compiler utility

Объединяет все файлы, находящиеся в директории проекта в один большой файл, предназначенный для автоматической генерации расчетных баз данных.

Текущая версия является полностью функциональной в рамках ряда допущений на стиль оформления исходных comi-макросов. Например, считается, что макрос точки входа (e_main.comi или m_main.comi) вызывает дочерние макросы с помощью сокращенной команды $COMI, которой передается имя дочернего макроса в одинарных кавычках и без расширения. Если дочерний макрос будет вызван полной командой $COMINPUT -- компилятор не сможет правильно обработать такой вызов. Аналогичная ситуация возникнет, если имя макроса не будет заключено в одинарные кавычки (это допускается интерпретатором Opera3D) или будет содержать расширение. 

## Пример
вызова макроса e_geom.comi, который обрабатывается правильно:

`$COMI 'e_geom'`

## Примеры 
вызовов макроса e_geom.comi, которые не могут быть обработаны текущей версией правильно:

```
$COMI e_geom
$COMI 'e_geom.comi'
$COMI f:/project/e_geom.comi
$COMINPUT e_geom
$COMINPUT 'e_geom'
$COMINPUT 'e_geom.comi'
$COMINPUT 'f:/project/e_geom.comi'
```
и т.д.

Таким образом, компилятор может быть существенно улучшен, если будет понимать все форматы (ну, или большинство).

Второе предположение, которое использовалось при написании утилиты -- наличие пустой завершающей строки в дочернем макросе. Если это по каким-то причинам не так, то могут быть затерты первые строчки комментариев, разделяющие вызовы дочерних макросов в макросе точки входа. Этот баг надо пофиксить в первую очередь.
